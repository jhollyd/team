{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samue\\\\Online_Projects\\\\My_Own_Thing\\\\CS410_Long_Project\\\\new_landing+admin_page\\\\src\\\\pages\\\\student\\\\MyCalendar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MyCalendar({\n  tempEvents,\n  setTempEvents\n}) {\n  _s();\n  let lastClickTime = null;\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [firstEventDate, setFirstEventDate] = useState(null);\n  const handleDateClick = info => {\n    const currentClickTime = Date.now();\n    if (lastClickTime && currentClickTime - lastClickTime <= 700) {\n      const newEvent = {\n        id: String(tempEvents.length + 1),\n        title: `Available`,\n        start: info.dateStr,\n        source: \"manual\"\n      };\n      setTempEvents([...tempEvents, newEvent]);\n    }\n    lastClickTime = currentClickTime;\n  };\n  const handleEventDrop = info => {\n    setTempEvents(prev => prev.map(event => event.id === info.event.id ? {\n      ...event,\n      start: info.event.startStr,\n      end: info.event.endStr\n    } : event));\n  };\n  const handleEventResize = info => {\n    setTempEvents(prev => prev.map(event => event.id === info.event.id ? {\n      ...event,\n      start: info.event.startStr,\n      end: info.event.endStr\n    } : event));\n  };\n  const handleEventClick = info => {\n    const clickedEvent = tempEvents.find(event => event.id === info.event.id);\n    if (clickedEvent) {\n      setSelectedEvent(clickedEvent);\n    }\n  };\n  const handleDeleteEvent = () => {\n    if (selectedEvent && selectedEvent.source !== \"ics\") {\n      setTempEvents(prevEvents => prevEvents.filter(event => event.id !== selectedEvent.id));\n      console.log(`Event deleted: ${selectedEvent.title}`);\n      setSelectedEvent(null);\n    }\n  };\n  useEffect(() => {\n    if (selectedEvent) {\n      const handleKeyPress = event => {\n        if (event.key === \"Delete\" || event.key === \"Backspace\") {\n          handleDeleteEvent();\n        }\n      };\n      window.addEventListener(\"keydown\", handleKeyPress);\n      return () => {\n        window.removeEventListener(\"keydown\", handleKeyPress);\n      };\n    }\n  }, [selectedEvent]);\n  const setFirstWeekRange = events => {\n    if (events.length > 0) {\n      const sortedEvents = events.sort((a, b) => new Date(a.start) - new Date(b.start));\n      const firstEventDate = new Date(sortedEvents[0].start);\n      const firstDayOfWeek = firstEventDate.getDate() - firstEventDate.getDay();\n      const firstWeekStartDate = new Date(firstEventDate.setDate(firstDayOfWeek));\n      setFirstEventDate(firstWeekStartDate);\n    }\n  };\n  useEffect(() => {\n    setFirstWeekRange(tempEvents);\n  }, [tempEvents]);\n  return /*#__PURE__*/_jsxDEV(FullCalendar, {\n    plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n    initialView: \"timeGridWeek\",\n    headerToolbar: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"dayGridMonth,timeGridWeek,timeGridDay\"\n    },\n    events: tempEvents,\n    editable: true,\n    selectable: true,\n    droppable: true,\n    eventResizableFromStart: true,\n    dateClick: handleDateClick,\n    eventDrop: handleEventDrop,\n    eventResize: handleEventResize,\n    eventClick: handleEventClick\n    // validRange={{\n    //     start: firstEventDate ? firstEventDate.toISOString().split('T')[0] : undefined, \n    //     end: firstEventDate ? new Date(firstEventDate.getTime() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] : undefined, \n    // }}\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n}\n_s(MyCalendar, \"zaPJja15+VS8DN2GuC96k5ENIPk=\");\n_c = MyCalendar;\nexport default MyCalendar;\nvar _c;\n$RefreshReg$(_c, \"MyCalendar\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","jsxDEV","_jsxDEV","MyCalendar","tempEvents","setTempEvents","_s","lastClickTime","selectedEvent","setSelectedEvent","firstEventDate","setFirstEventDate","handleDateClick","info","currentClickTime","Date","now","newEvent","id","String","length","title","start","dateStr","source","handleEventDrop","prev","map","event","startStr","end","endStr","handleEventResize","handleEventClick","clickedEvent","find","handleDeleteEvent","prevEvents","filter","console","log","handleKeyPress","key","window","addEventListener","removeEventListener","setFirstWeekRange","events","sortedEvents","sort","a","b","firstDayOfWeek","getDate","getDay","firstWeekStartDate","setDate","plugins","initialView","headerToolbar","left","center","right","editable","selectable","droppable","eventResizableFromStart","dateClick","eventDrop","eventResize","eventClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/samue/Online_Projects/My_Own_Thing/CS410_Long_Project/new_landing+admin_page/src/pages/student/MyCalendar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\n\r\nfunction MyCalendar({ tempEvents, setTempEvents }) {\r\n    let lastClickTime = null;\r\n    const [selectedEvent, setSelectedEvent] = useState(null);\r\n    const [firstEventDate, setFirstEventDate] = useState(null);\r\n\r\n    const handleDateClick = (info) => {\r\n        const currentClickTime = Date.now();\r\n\r\n        if (lastClickTime && currentClickTime - lastClickTime <= 700) {\r\n            const newEvent = {\r\n                id: String(tempEvents.length + 1),\r\n                title: `Available`,\r\n                start: info.dateStr,\r\n                source: \"manual\",\r\n            };\r\n            setTempEvents([...tempEvents, newEvent]);\r\n        }\r\n\r\n        lastClickTime = currentClickTime;\r\n    };\r\n\r\n    const handleEventDrop = (info) => {\r\n        setTempEvents((prev) =>\r\n            prev.map((event) =>\r\n                event.id === info.event.id\r\n                    ? { ...event, start: info.event.startStr, end: info.event.endStr }\r\n                    : event\r\n            )\r\n        );\r\n    };\r\n\r\n    const handleEventResize = (info) => {\r\n        setTempEvents((prev) =>\r\n            prev.map((event) =>\r\n                event.id === info.event.id\r\n                    ? { ...event, start: info.event.startStr, end: info.event.endStr }\r\n                    : event\r\n            )\r\n        );\r\n    };\r\n\r\n    const handleEventClick = (info) => {\r\n        const clickedEvent = tempEvents.find((event) => event.id === info.event.id);\r\n        if (clickedEvent) {\r\n            setSelectedEvent(clickedEvent);\r\n        }\r\n    };\r\n\r\n    const handleDeleteEvent = () => {\r\n        if (selectedEvent && selectedEvent.source !== \"ics\") {\r\n            setTempEvents((prevEvents) =>\r\n                prevEvents.filter((event) => event.id !== selectedEvent.id)\r\n            );\r\n            console.log(`Event deleted: ${selectedEvent.title}`);\r\n            setSelectedEvent(null);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (selectedEvent) {\r\n            const handleKeyPress = (event) => {\r\n                if (event.key === \"Delete\" || event.key === \"Backspace\") {\r\n                    handleDeleteEvent();\r\n                }\r\n            };\r\n\r\n            window.addEventListener(\"keydown\", handleKeyPress);\r\n\r\n            return () => {\r\n                window.removeEventListener(\"keydown\", handleKeyPress);\r\n            };\r\n        }\r\n    }, [selectedEvent]);\r\n\r\n    const setFirstWeekRange = (events) => {\r\n        if (events.length > 0) {\r\n            const sortedEvents = events.sort((a, b) => new Date(a.start) - new Date(b.start));\r\n            const firstEventDate = new Date(sortedEvents[0].start);\r\n            const firstDayOfWeek = firstEventDate.getDate() - firstEventDate.getDay();\r\n            const firstWeekStartDate = new Date(firstEventDate.setDate(firstDayOfWeek));\r\n\r\n            setFirstEventDate(firstWeekStartDate);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setFirstWeekRange(tempEvents);\r\n    }, [tempEvents]);\r\n\r\n    return (\r\n        <FullCalendar\r\n            plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n            initialView=\"timeGridWeek\"\r\n            headerToolbar={{\r\n                left: \"prev,next today\",\r\n                center: \"title\",\r\n                right: \"dayGridMonth,timeGridWeek,timeGridDay\",\r\n            }}\r\n            events={tempEvents}\r\n            editable={true}\r\n            selectable={true}\r\n            droppable={true}\r\n            eventResizableFromStart={true}\r\n            dateClick={handleDateClick}\r\n            eventDrop={handleEventDrop}\r\n            eventResize={handleEventResize}\r\n            eventClick={handleEventClick}\r\n        // validRange={{\r\n        //     start: firstEventDate ? firstEventDate.toISOString().split('T')[0] : undefined, \r\n        //     end: firstEventDate ? new Date(firstEventDate.getTime() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0] : undefined, \r\n        // }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default MyCalendar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}